-- [VI] 인덱스 : SELECT 속도를 높이기 위해
DROP TABLE EMP01;
CREATE TABLE EMP01 AS SELECT * FROM EMP; -- EMP테이블의 내용과 같은 EMP01생성
SELECT * FROM EMP01; -- 14행
INSERT INTO EMP01 SELECT * FROM EMP01; -- 데이터 뻥튀기 1번(28), 2번(56)
SELECT COUNT(*) FROM EMP01; -- EMP01의 행수
INSERT INTO EMP01 SELECT * FROM EMP01; -- 11번(11만)
SELECT COUNT(*) FROM EMP01; -- 11만 4천행 정도
INSERT INTO EMP01 (EMPNO, ENAME, DEPTNO) VALUES (1111, 'HONG', 50);
INSERT INTO EMP01 SELECT * FROM EMP01; -- 1번(22만),2번(45만),3번(90만)
SELECT COUNT(*) FROM EMP01; -- 91만개 행수
SELECT * FROM EMP01 WHERE ENAME='HONG'; -- 인덱스 생성 전 조회시간 : 0.014초
-- 인덱스 생성
CREATE INDEX IDX_EMP01_ENAME ON EMP01(ENAME); -- 0.676초(인덱스 생성)
SELECT * FROM EMP01 WHERE ENAME='HONG'; -- 0.001초
COMMIT;
INSERT INTO EMP01 SELECT * FROM EMP01; -- 91만->182만 (36.165초)
SELECT COUNT(*) FROM EMP01;
ROLLBACK; -- 14초
-- 인덱스 삭제
DROP INDEX IDX_EMP01_ENAME;
SELECT * FROM EMP01 WHERE ENAME='HONG'; -- 0.031초
INSERT INTO EMP01 SELECT * FROM EMP01; -- 91만->182만 (1.645초)
ROLLBACK; -- 0.107초
DROP TABLE EMP01; -- 테이블 삭제시 해당 테이블의 인덱스도 삭제









